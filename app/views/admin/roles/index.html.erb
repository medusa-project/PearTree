<% provide :title, 'Roles' %>
<% provide :body_id, 'roles' %>
<% provide :active_nav, 'access' %>

<%= admin_breadcrumb({ label: 'Home', url: admin_root_path },
                     { label: 'Roles' }) %>

<div class="btn-group float-right">
  <% if current_user.can?(Permission::Permissions::MODIFY_ROLES) %>
    <!-- New Role -->
    <%= link_to new_admin_role_path, class: 'btn btn-light' do %>
      <span class="fa fa-plus"></span> New Role
    <% end %>
  <% end %>
</div>

<h1>Roles</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Role</th>
      <th>Key</th>
      <th>Users</th>
      <th>Note</th>
    </tr>
  </thead>
  <tbody>
    <% @roles.each do |role| %>
      <tr>
        <td><%= link_to role.name, admin_role_path(role) %></td>
        <td><%= role.key %></td>
        <td><%= role.users.count %></td>
        <td><%= role.note %></td>
      </tr>
    <% end %>
  </tbody>
</table>
