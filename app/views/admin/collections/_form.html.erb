<%= form_for([:admin, @collection]) do |f| %>

  <div class="clearfix">
    <div class="pull-right">
      <%= f.submit 'Save Changes', class: 'btn btn-primary' %>
    </div>
  </div>

  <div class="form-group">
    <div class="checkbox">
      <label>
        <%= f.check_box(:published_in_dls) %> Published
      </label>
    </div>
    <div class="checkbox">
      <label>
        <%= f.check_box(:harvestable) %> Harvestable
      </label>
    </div>
  </div>

  <hr>

  <div class="form-group">
    <%= f.label :medusa_file_group_id, 'Medusa File Group UUID' %>
    <%= f.text_field(:medusa_file_group_id, class: 'form-control',
                     disabled: @collection.items.any?) %>
  </div>

  <div class="form-group">
    <%= f.label :medusa_cfs_directory_id, 'Medusa CFS Directory UUID' %>
    <%= f.text_field(:medusa_cfs_directory_id, class: 'form-control',
                     disabled: @collection.items.any?) %>
    <span class="help-block">If omitted, the root CFS directory of the
    file group will be used.</span>
  </div>

  <div class="form-group">
    <%= f.label :package_profile_id, 'Medusa Package Profile' %>
    <%= select(:collection, :package_profile_id,
               @package_profile_options_for_select,
               { include_blank: 'None (External Content)' },
               class: 'form-control',
               disabled: @collection.items.any?) %>
  </div>

  <hr>

  <div class="form-group">
    <%= f.label :metadata_profile_id, 'Metadata Profile' %>
    <%= select(:collection, :metadata_profile_id,
               @metadata_profile_options_for_select, {},
               class: 'form-control') %>
  </div>

  <div class="form-group">
    <%= f.label :contentdm_alias, 'CONTENTdm Alias ("CISOROOT")' %>
    <%= f.text_field(:contentdm_alias, class: 'form-control') %>
  </div>

  <div class="form-group">
    <% options = options_for_select(
        RightsStatement.all_statements.map{ |e| [e.name, e.uri] },
        selected: f.object.rightsstatements_org_uri) %>
    <%= f.label :rightsstatements_org_uri, 'RightsStatements.org Statement' %>
    <%= f.select :rightsstatements_org_uri, options, { include_blank: true },
                 { class: 'form-control' } %>
    <p class="help-block">The free-form rights statement can be edited in Medusa.</p>
  </div>

  <div class="row">
    <div class="col-sm-6">
      <div class="form-group">
        <%= f.label :allowed_roles, 'Allowed Roles' %>
        <%= hidden_field_tag :role_ids, nil,
                             name: 'collection[allowed_role_ids][]' %>
        <% Role.order(:name).each do |role| %>
          <div class="checkbox">
            <label>
              <%= check_box_tag :role_ids, role.id,
                                f.object.allowed_roles.pluck(:id).include?(role.id),
                                name: 'collection[allowed_role_ids][]' %>
              <%= role.name %>
            </label>
          </div>
        <% end %>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="form-group">
        <%= f.label :denied_roles, 'Denied Roles' %>
        <%= hidden_field_tag :role_ids, nil,
                             name: 'collection[denied_role_ids][]' %>
        <% Role.order(:name).each do |role| %>
          <div class="checkbox">
            <label>
              <%= check_box_tag :role_ids, role.id,
                                f.object.denied_roles.pluck(:id).include?(role.id),
                                name: 'collection[denied_role_ids][]' %>
              <%= role.name %>
            </label>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <div class="pull-right">
    <%= f.submit 'Save Changes', class: 'btn btn-primary' %>
  </div>

<% end %>
